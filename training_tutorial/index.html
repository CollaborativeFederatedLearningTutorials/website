
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://collaborativefederatedlearningtutorials.github.io/website/training_tutorial/">
      
      
        <link rel="prev" href="../tutorial/">
      
      
        <link rel="next" href="../schedule/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Federated Training Tutorial - COFE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style>


    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hands-on-tutorial-for-federated-training-with-nvidia-flare" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="COFE" class="md-header__button md-logo" aria-label="COFE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            COFE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Federated Training Tutorial
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CollaborativeFederatedLearningTutorials/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CollaborativeFederatedLearningTutorials/website
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="COFE" class="md-nav__button md-logo" aria-label="COFE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    COFE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CollaborativeFederatedLearningTutorials/website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CollaborativeFederatedLearningTutorials/website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        Federated Evaluation Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Federated Training Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Federated Training Tutorial
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-in-codespaces" class="md-nav__link">
    Run in codespaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-experiment-admin-training-experiment-definition" class="md-nav__link">
    1. Experiment Admin: Training Experiment Definition
  </a>
  
    <nav class="md-nav" aria-label="1. Experiment Admin: Training Experiment Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-data-preparation-container" class="md-nav__link">
    Register the data preparation Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-the-training-containers" class="md-nav__link">
    Define the training Containers
  </a>
  
    <nav class="md-nav" aria-label="Define the training Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-training-nodes-container" class="md-nav__link">
    Register the Training nodes Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-training-admin-container" class="md-nav__link">
    Register the Training admin Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-training-experiment" class="md-nav__link">
    Register the Training Experiment
  </a>
  
    <nav class="md-nav" aria-label="Register the Training Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#associate-a-certificate-authority" class="md-nav__link">
    Associate a Certificate Authority
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-experiment-admin-aggregator-setup" class="md-nav__link">
    2. Experiment Admin: Aggregator Setup
  </a>
  
    <nav class="md-nav" aria-label="2. Experiment Admin: Aggregator Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-aggregator" class="md-nav__link">
    Register the Aggregator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-the-aggregator-with-the-experiment" class="md-nav__link">
    Associate the aggregator with the experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-experiment-admin-training-configuration" class="md-nav__link">
    3. Experiment Admin: training configuration
  </a>
  
    <nav class="md-nav" aria-label="3. Experiment Admin: training configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-a-training-event" class="md-nav__link">
    Start a Training Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-experiment-admin-starting-the-aggregator" class="md-nav__link">
    4. Experiment Admin: Starting the Aggregator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-data-owner-registering-and-preparing-the-data" class="md-nav__link">
    5. Data Owner: Registering and Preparing the Data
  </a>
  
    <nav class="md-nav" aria-label="5. Data Owner: Registering and Preparing the Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-your-dataset" class="md-nav__link">
    Register your dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-your-data-using-the-data-preparation-container" class="md-nav__link">
    Process your data using the data preparation container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mark-your-dataset-as-ready" class="md-nav__link">
    Mark your dataset as ready
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-data-owner-requesting-participation" class="md-nav__link">
    6. Data Owner: Requesting participation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-data-owner-start-the-training-node" class="md-nav__link">
    7. Data Owner: Start the training node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-data-owner-setting-up-the-second-data-owner" class="md-nav__link">
    8. Data Owner: Setting up the second data owner
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-experiment-admin-start-the-training" class="md-nav__link">
    9. Experiment Admin: Start the training
  </a>
  
    <nav class="md-nav" aria-label="9. Experiment Admin: Start the training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submit-the-training-job" class="md-nav__link">
    Submit the training job
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-experiment-admin-remote-status-check" class="md-nav__link">
    10. Experiment Admin: Remote status check
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-experiment-admin-stop-the-training" class="md-nav__link">
    11. Experiment Admin: Stop the training
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../schedule/" class="md-nav__link">
        Schedule
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../previous/" class="md-nav__link">
        Previous
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-in-codespaces" class="md-nav__link">
    Run in codespaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-experiment-admin-training-experiment-definition" class="md-nav__link">
    1. Experiment Admin: Training Experiment Definition
  </a>
  
    <nav class="md-nav" aria-label="1. Experiment Admin: Training Experiment Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-data-preparation-container" class="md-nav__link">
    Register the data preparation Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#define-the-training-containers" class="md-nav__link">
    Define the training Containers
  </a>
  
    <nav class="md-nav" aria-label="Define the training Containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-training-nodes-container" class="md-nav__link">
    Register the Training nodes Container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-training-admin-container" class="md-nav__link">
    Register the Training admin Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-training-experiment" class="md-nav__link">
    Register the Training Experiment
  </a>
  
    <nav class="md-nav" aria-label="Register the Training Experiment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#associate-a-certificate-authority" class="md-nav__link">
    Associate a Certificate Authority
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-experiment-admin-aggregator-setup" class="md-nav__link">
    2. Experiment Admin: Aggregator Setup
  </a>
  
    <nav class="md-nav" aria-label="2. Experiment Admin: Aggregator Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-aggregator" class="md-nav__link">
    Register the Aggregator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associate-the-aggregator-with-the-experiment" class="md-nav__link">
    Associate the aggregator with the experiment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-experiment-admin-training-configuration" class="md-nav__link">
    3. Experiment Admin: training configuration
  </a>
  
    <nav class="md-nav" aria-label="3. Experiment Admin: training configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-a-training-event" class="md-nav__link">
    Start a Training Event
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-experiment-admin-starting-the-aggregator" class="md-nav__link">
    4. Experiment Admin: Starting the Aggregator
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-data-owner-registering-and-preparing-the-data" class="md-nav__link">
    5. Data Owner: Registering and Preparing the Data
  </a>
  
    <nav class="md-nav" aria-label="5. Data Owner: Registering and Preparing the Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-your-dataset" class="md-nav__link">
    Register your dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-your-data-using-the-data-preparation-container" class="md-nav__link">
    Process your data using the data preparation container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mark-your-dataset-as-ready" class="md-nav__link">
    Mark your dataset as ready
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-data-owner-requesting-participation" class="md-nav__link">
    6. Data Owner: Requesting participation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-data-owner-start-the-training-node" class="md-nav__link">
    7. Data Owner: Start the training node
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-data-owner-setting-up-the-second-data-owner" class="md-nav__link">
    8. Data Owner: Setting up the second data owner
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-experiment-admin-start-the-training" class="md-nav__link">
    9. Experiment Admin: Start the training
  </a>
  
    <nav class="md-nav" aria-label="9. Experiment Admin: Start the training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submit-the-training-job" class="md-nav__link">
    Submit the training job
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-experiment-admin-remote-status-check" class="md-nav__link">
    10. Experiment Admin: Remote status check
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-experiment-admin-stop-the-training" class="md-nav__link">
    11. Experiment Admin: Stop the training
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="hands-on-tutorial-for-federated-training-with-nvidia-flare">Hands-on Tutorial for Federated Training with Nvidia Flare<a class="headerlink" href="#hands-on-tutorial-for-federated-training-with-nvidia-flare" title="Permanent link">&para;</a></h1>
<h2 id="run-in-codespaces">Run in codespaces<a class="headerlink" href="#run-in-codespaces" title="Permanent link">&para;</a></h2>
<p><a href="https://codespaces.new/mlcommons/medperf/tree/nvflare-integration?devcontainer_path=.devcontainer%2Ftraining%2Fdevcontainer.json" target="_blank"><img alt="Open in GitHub Codespaces" src="https://github.com/codespaces/badge.svg" /></a></p>
<p>After opening the link, proceed to creating the codespace without changing any option. It will take around 7 minutes to get the codespace up and running.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>In this guide, you will learn how you can run a training experiment with MedPerf and Nvidia Flare. You will play two roles in this tutorial: the role of an experiment admin, and the role of a data owner.</p>
<p>The main tasks of this guide are:</p>
<ol>
<li>Experiment Admin: Training Experiment Definition</li>
<li>Experiment Admin: Aggregator Setup</li>
<li>Experiment Admin: training configuration</li>
<li>Experiment Admin: Starting the Aggregator</li>
<li>Data Owner: Registering and Preparing the Data</li>
<li>Data Owner: Requesting participation</li>
<li>Data Owner: Starting the training node</li>
<li>Data Owner: Setting up the second data owner</li>
<li>Experiment Admin: Starting the training</li>
<li>Experiment Admin: Remote status check</li>
<li>Experiment Admin: Stopping the training</li>
</ol>
<h2 id="1-experiment-admin-training-experiment-definition">1. Experiment Admin: Training Experiment Definition<a class="headerlink" href="#1-experiment-admin-training-experiment-definition" title="Permanent link">&para;</a></h2>
<p>First, login as the experiment admin to proceed:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>medperf<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span>-e<span class="w"> </span>testmo@example.com
</span></code></pre></div>
<p>You will first need to define the logic for data preparation, and the logic for training. Then, register the training experiment object.</p>
<h3 id="register-the-data-preparation-container">Register the data preparation Container<a class="headerlink" href="#register-the-data-preparation-container" title="Permanent link">&para;</a></h3>
<p>As an experiment admin, you should prepare the data preparation pipeline logic that will transform the raw clinical data into AI-ready data. For this tutorial, it will be a container that transforms chest x-ray images and disease labels into numpy arrays. The container is already prepared and hosted. Run the following command to register the container in the MedPerf server:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>medperf<span class="w"> </span>container<span class="w"> </span>submit<span class="w"> </span>--name<span class="w"> </span>prep<span class="w"> </span><span class="se">\</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">   </span>--container-config-file<span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/mlcommons/medperf/main/examples/chestxray_tutorial/data_preparator/container_config.yaml&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">   </span>--parameters-file<span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/mlcommons/medperf/main/examples/chestxray_tutorial/data_preparator/workspace/parameters.yaml&quot;</span>
</span></code></pre></div>
<p>Here is a description of what has been registered:</p>
<ul>
<li>The first URL (<code>-m</code> option) points to the container configuration file for the data preparation container. The configuration file contains information like the docker image identifier, and what will be mounted during runtime.</li>
<li>The second URL (<code>-p</code> option) points to a parameters file. The data preparation container is built so that it expects certain parameters read from this file.</li>
</ul>
<h3 id="define-the-training-containers">Define the training Containers<a class="headerlink" href="#define-the-training-containers" title="Permanent link">&para;</a></h3>
<p>As an experiment admin, you should prepare the necessary training code. Two containers are required: a container that will be used by the Aggregator server and the participating data owners, and a container used by you as an admin to manage the federation (i.e., check the status, start the training, stop the training, etc...).</p>
<p>For this tutorial, the containers are already prepared and hosted. Run the following commands below to register the containers in the MedPerf server. Again, the URL (<code>-m</code> option) points to the container configuration file. The configuration file contains information like the docker image identifier, and what will be mounted during runtime.</p>
<h4 id="register-the-training-nodes-container">Register the Training nodes Container<a class="headerlink" href="#register-the-training-nodes-container" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>medperf<span class="w"> </span>container<span class="w"> </span>submit<span class="w"> </span>--name<span class="w"> </span>trainer<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span>--container-config-file<span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/hasan7n/medperf/974879e8eee24ef673a3b0934c80d457ca1ed25c/examples/nvfl/fl/node/container_config.yaml&quot;</span>
</span></code></pre></div>
<h4 id="register-the-training-admin-container">Register the Training admin Container<a class="headerlink" href="#register-the-training-admin-container" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>medperf<span class="w"> </span>container<span class="w"> </span>submit<span class="w"> </span>--name<span class="w"> </span>trainadmin<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span>--container-config-file<span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/hasan7n/medperf/974879e8eee24ef673a3b0934c80d457ca1ed25c/examples/nvfl/fl/admin/container_config.yaml&quot;</span>
</span></code></pre></div>
<h3 id="register-the-training-experiment">Register the Training Experiment<a class="headerlink" href="#register-the-training-experiment" title="Permanent link">&para;</a></h3>
<p>Note the IDs of the data preparation container, the training nodes container, and the training admin container. The IDs will be <code>2</code>, <code>3</code>, and <code>4</code> for this tutorial. You can check by running <code>medperf container ls --mine</code>.</p>
<p>Now submit the training experiment object, giving it a name, a description, and the containers mentioned above:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>submit<span class="w"> </span>--name<span class="w"> </span>trainexp<span class="w"> </span>--description<span class="w"> </span>trainexp<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span>--prep-container<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span>--fl-container<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span>--fl-admin-container<span class="w"> </span><span class="m">4</span>
</span></code></pre></div>
<h4 id="associate-a-certificate-authority">Associate a Certificate Authority<a class="headerlink" href="#associate-a-certificate-authority" title="Permanent link">&para;</a></h4>
<p>Although currently the setup will not use a certificate authority, this step will be needed in an upcoming MedPerf feature where the training startup kits will be securely transported through the MedPerf server. The current NV Flare - MedPerf integration code still expects a certificate authority to be associated with the training experiment.</p>
<p>Run the following command to associate a certificate authority:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>medperf<span class="w"> </span>ca<span class="w"> </span>associate<span class="w"> </span>-t<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">1</span><span class="w"> </span>-y
</span></code></pre></div>
<h2 id="2-experiment-admin-aggregator-setup">2. Experiment Admin: Aggregator Setup<a class="headerlink" href="#2-experiment-admin-aggregator-setup" title="Permanent link">&para;</a></h2>
<p>The operator of the aggregator server can be another user, not necessarily the admin. This tutorial will assume it's the same user for simplicity.</p>
<p>In this section, you will be registering the aggregator information and linking it to the training experiment.</p>
<h3 id="register-the-aggregator">Register the Aggregator<a class="headerlink" href="#register-the-aggregator" title="Permanent link">&para;</a></h3>
<p>When registering the aggregator information, you should register the address of the aggregator and the ports to be open when the aggregator server will start. We will choose two ports: <code>8102</code> and <code>8103</code>: one for training and one for admin interactions.</p>
<p>Note that the hostname should be reachable by the data owners. In a real experiment, it should be the public IP address or a registered domain name of the machine where the aggregator server will be hosted. For the tutorial, we will use an internal IP address since we will run everything in one machine. Run the following to get the hostname:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>hostname<span class="w"> </span>-I<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span>-f<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>Also, you will need to specify which container to use for running the aggregator later. For our case it's going to be the same node container submitted for the training experiment, which is the container of ID <code>3</code>.</p>
<p>Now register the aggregator:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>medperf<span class="w"> </span>aggregator<span class="w"> </span>submit<span class="w"> </span>--name<span class="w"> </span>myaggreg<span class="w"> </span>--aggregation-container<span class="w"> </span><span class="m">3</span><span class="w"> </span>--address<span class="w"> </span>&lt;hostname_found&gt;<span class="w"> </span>--port<span class="w"> </span><span class="m">8102</span><span class="w"> </span>--port<span class="w"> </span><span class="m">8103</span>
</span></code></pre></div>
<h3 id="associate-the-aggregator-with-the-experiment">Associate the aggregator with the experiment<a class="headerlink" href="#associate-the-aggregator-with-the-experiment" title="Permanent link">&para;</a></h3>
<p>The command below will link the aggregator with the training experiment you already submitted. By running <code>medperf training ls --mine</code> you will see your training experiment ID. By running <code>medperf aggregator ls --mine</code> you will see your aggregator ID. For this tutorial, the IDs will be both <code>1</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>medperf<span class="w"> </span>aggregator<span class="w"> </span>associate<span class="w"> </span>--aggregator_id<span class="w"> </span><span class="m">1</span><span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<h2 id="3-experiment-admin-training-configuration">3. Experiment Admin: training configuration<a class="headerlink" href="#3-experiment-admin-training-configuration" title="Permanent link">&para;</a></h2>
<p>In this section you will submit the required configuration for training. For our example with NV Flare, the configuration mainly consists of:</p>
<ul>
<li>The NV Flare's training job configuration (<code>meta.json</code>, <code>config_fed_client.json</code>, and <code>config_fed_server.json</code>). It will be submitted as a single plan file to the MedPerf server, so that data owners can review it before starting training.</li>
<li>The startup kits for the aggregator and for the data owners will be created and submitted to the MedPerf server so that the data owners and the aggregator will later automatically pull them and use them when starting their nodes.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In an upcoming MedPerf release, the startup kits will be encrypted end-to-end so that they are securely transported from the admin to the data owners through MedPerf.</p>
</div>
<p>You will need to provide a folder for the following command that includes the necesary configuration files. You can check the folder <code>medperf_tutorial/training_config</code> to see how it's expected to be.</p>
<p>Now run the command below:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>set_plan<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span><span class="w"> </span>--config-path<span class="w"> </span><span class="s2">&quot;medperf_tutorial/training_config&quot;</span>
</span></code></pre></div>
<h3 id="start-a-training-event">Start a Training Event<a class="headerlink" href="#start-a-training-event" title="Permanent link">&para;</a></h3>
<p>After setting the configuration, you should mark your training experiment as ready to accept data owners. The command below will do the job. You will need to provide the expected list of data owners in a yaml file. This file is already prepared for this tutorial and can be found at <code>medperf_tutorial/cols_list.yaml</code>.</p>
<p>Run the following command to start the training event:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>start_event<span class="w"> </span>--name<span class="w"> </span>event1<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span><span class="w"> </span>--participants_list_file<span class="w"> </span>medperf_tutorial/cols_list.yaml
</span></code></pre></div>
<h2 id="4-experiment-admin-starting-the-aggregator">4. Experiment Admin: Starting the Aggregator<a class="headerlink" href="#4-experiment-admin-starting-the-aggregator" title="Permanent link">&para;</a></h2>
<p>Now let's start the aggregator server:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>medperf<span class="w"> </span>aggregator<span class="w"> </span>start<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span><span class="w"> </span>--publish_on<span class="w"> </span>&lt;found<span class="w"> </span>hostname&gt;
</span></code></pre></div>
<p>The <code>--publish_on</code> argument specifies on which network interface to expose the aggregator. For the tutorial, using the hostname found will expose the aggregator to the internal network. In a real experiment where data owners are on different external machines, use <code>0.0.0.0</code>.</p>
<p>Please keep this terminal open and move to another terminal to start playing the data owner role.</p>
<h2 id="5-data-owner-registering-and-preparing-the-data">5. Data Owner: Registering and Preparing the Data<a class="headerlink" href="#5-data-owner-registering-and-preparing-the-data" title="Permanent link">&para;</a></h2>
<p>Now let's play the role of the data owners. There will be two data owners: <code>testdo@example.com</code> and <code>testdo2@example.com</code>. You will learn how to play the role of the data owner using the first one. We provide a shortcut script to automatically run what's needed for the second data owner to avoid repetition.</p>
<p>Login as the first data owner:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>medperf<span class="w"> </span>auth<span class="w"> </span><span class="nb">logout</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>medperf<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span>-e<span class="w"> </span>testdo@example.com
</span></code></pre></div>
<h3 id="register-your-dataset">Register your dataset<a class="headerlink" href="#register-your-dataset" title="Permanent link">&para;</a></h3>
<p>We provide toy dataset of chest x-ray images and labels in the <code>medperf_tutorial</code> folder. Run the following to register the information of this dataset.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>medperf<span class="w"> </span>dataset<span class="w"> </span>submit<span class="w"> </span>--data_prep<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span>--data_path<span class="w"> </span>medperf_tutorial/col1/data<span class="w"> </span><span class="se">\</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span>--labels_path<span class="w"> </span>medperf_tutorial/col1/labels<span class="w"> </span><span class="se">\</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">  </span>--name<span class="w"> </span>col1data<span class="w"> </span><span class="se">\</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">  </span>--description<span class="w"> </span><span class="s2">&quot;some data&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">  </span>--location<span class="w"> </span>mymachine
</span></code></pre></div>
<p>The option <code>--data_prep 2</code> specifies which data preparation container will be used in later steps to prepare your dataset. We are using the same container submitted by the training experiment owner.</p>
<h3 id="process-your-data-using-the-data-preparation-container">Process your data using the data preparation container<a class="headerlink" href="#process-your-data-using-the-data-preparation-container" title="Permanent link">&para;</a></h3>
<p>Now run preparation to transform your data as required by the experiment admin. Your dataset ID will be <code>1</code>. You can check by running <code>medperf dataset ls --mine</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>medperf<span class="w"> </span>dataset<span class="w"> </span>prepare<span class="w"> </span>--data_uid<span class="w"> </span><span class="m">1</span><span class="w"> </span>
</span></code></pre></div>
<h3 id="mark-your-dataset-as-ready">Mark your dataset as ready<a class="headerlink" href="#mark-your-dataset-as-ready" title="Permanent link">&para;</a></h3>
<p>Now mark your dataset as ready for training:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>medperf<span class="w"> </span>dataset<span class="w"> </span>set_operational<span class="w"> </span>--data_uid<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>This will also submit some statistics calculated on your data that could be useful for results analysis by the experiment admin.</p>
<h2 id="6-data-owner-requesting-participation">6. Data Owner: Requesting participation<a class="headerlink" href="#6-data-owner-requesting-participation" title="Permanent link">&para;</a></h2>
<p>Now request participation in the training experiment:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>medperf<span class="w"> </span>dataset<span class="w"> </span>associate<span class="w">  </span>--data_uid<span class="w"> </span><span class="m">1</span><span class="w"> </span>--training_exp_uid<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<h2 id="7-data-owner-start-the-training-node">7. Data Owner: Start the training node<a class="headerlink" href="#7-data-owner-start-the-training-node" title="Permanent link">&para;</a></h2>
<p>Finally, start the training node:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>medperf<span class="w"> </span>dataset<span class="w"> </span>train<span class="w"> </span>--data_uid<span class="w"> </span><span class="m">1</span><span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>The process will keep waiting until the experiment admin submits the training job and signals your node to start training. Please keep this terminal open. You should move now to another terminal.</p>
<h2 id="8-data-owner-setting-up-the-second-data-owner">8. Data Owner: Setting up the second data owner<a class="headerlink" href="#8-data-owner-setting-up-the-second-data-owner" title="Permanent link">&para;</a></h2>
<p>For the second data owner, you will do the same steps as the first data owner. To avoid repetition, we provide a script that you can run to quickly run what needs to be run by the second data owner:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>bash<span class="w"> </span>medperf_tutorial/collab_shortcut.sh
</span></code></pre></div>
<p>You should move now to another terminal</p>
<h2 id="9-experiment-admin-start-the-training">9. Experiment Admin: Start the training<a class="headerlink" href="#9-experiment-admin-start-the-training" title="Permanent link">&para;</a></h2>
<p>Now you have the aggregator and the two data owner nodes up and running. You can now as an experiment admin signal starting the training. Login in back as the admin to continue:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>medperf<span class="w"> </span>auth<span class="w"> </span><span class="nb">logout</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>medperf<span class="w"> </span>auth<span class="w"> </span>login<span class="w"> </span>-e<span class="w"> </span>testmo@example.com
</span></code></pre></div>
<h3 id="submit-the-training-job">Submit the training job<a class="headerlink" href="#submit-the-training-job" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>submit_job<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>After running this, you can go and check that the terminals of the data owners and the aggregator are now showing that they are doing federated training.</p>
<h2 id="10-experiment-admin-remote-status-check">10. Experiment Admin: Remote status check<a class="headerlink" href="#10-experiment-admin-remote-status-check" title="Permanent link">&para;</a></h2>
<p>In a real experiment, you probably won't have access to data owners terminals to see if everything is going fine. You can run the following command to check the status from your machine:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>get_experiment_status<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<h2 id="11-experiment-admin-stop-the-training">11. Experiment Admin: Stop the training<a class="headerlink" href="#11-experiment-admin-stop-the-training" title="Permanent link">&para;</a></h2>
<p>After training is done, or if you want to just interrupt the training and stop it, you can run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>medperf<span class="w"> </span>training<span class="w"> </span>close_event<span class="w"> </span>--training_exp_id<span class="w"> </span><span class="m">1</span>
</span></code></pre></div>
<p>This concludes our tutorial!</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>